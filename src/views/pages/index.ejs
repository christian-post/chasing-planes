<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('../partials/head'); %>

  <script>
    var submitDeck = function() {
      // store selected cards in localstorage

      let deck = [];

      let cards = Array.from(
        document.querySelectorAll('.planes-container img, .phenomena-container img'));

      cards.forEach(card => {
        if (card.dataset.selected === 'true') {
          deck.push(card.dataset.scryfall);
        }
      });

      localStorage.setItem('deck', JSON.stringify(deck));

      // window.location.href=/planes/;
      // fetch('/planes', {
      //   method: 'POST',
      //   body: JSON.stringify({
      //     deckUrls: deck
      //   }),
      //   headers: {
      //     "Content-type": "application/json; charset=UTF-8"
      //   }
      // });
    }
  </script>
</head>
<body>

<main>
  <!-- <div class="horizontal-container">
    <button onclick="submitDeck()">Submit Deck</button>
  </div> -->

  <!-- <form id="submit-form"> -->
  <form id="submit-form" action="/planes" method="post">
    <input type="submit" value="Submit">
  </form>
  
  <%- include('../partials/planes-select'); %>

</main>


<!-- <script>
  let form = document.querySelector('#submit-form');
  form.onsubmit = async (event) => {
    event.preventDefault();

    let response = await fetch('/planes', {
      method: 'POST',
      body: {
        test: 'helloworld'
      }
    });
  }
</script> -->
  
</body>
</html>
